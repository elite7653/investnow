<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chartered Investments - Premium Investment Solutions</title>
  <meta name="description" content="Chartered Investments ‚Äî Premium investment packages, daily yields, and secure loan applications. Grow your wealth with trusted financial solutions." />
  <style>
    /* -------------------------
       Colors (5D palette)
       ------------------------- */
    :root{
      --navy: #001F3F;           /* primary base */
      --royal: #0056D2;          /* accent / CTA default */
      --gold: #FFD700;           /* luxury highlight */
      --cyan: #00FFFF;           /* glow accents */
      --purple: #1E0039;         /* background purple */
      --black: #000000;
      --text: #F1F1F1;
      --muted-white: rgba(241,241,241,0.9);
      --glass: rgba(255,255,255,0.06);
      --glass-border: rgba(255,255,255,0.12);
      --card-bg: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      --max-width: 1100px;
    }

    /* -------------------------
       Page base and animated gradient background
       ------------------------- */
    *{box-sizing: border-box;}
    html,body{
      height:100%;
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background: var(--black);
    }

    /* animated gradient */
    .bg-animated {
      position:fixed;
      inset:0;
      z-index:-3;
      background: linear-gradient(120deg, var(--navy), var(--purple), var(--royal), var(--black));
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      filter: saturate(1.05) contrast(1.02);
    }
    @keyframes gradientShift{
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }

    /* dollar background image overlay (subtle) */
    .bg-dollars{
      position:fixed;
      inset:0;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><text x="0" y="120" font-size="120" fill="%23000000" opacity="0.02">$</text></svg>');
      background-repeat:repeat;
      z-index:-2;
      mix-blend-mode: overlay;
      opacity:0.22;
    }

    /* -------------------------
       Floating dollar signs
       ------------------------- */
    .dollar-floats{
      position:fixed;
      inset:0;
      z-index:-1;
      pointer-events:none;
      overflow:hidden;
    }
    .dollar{
      position:absolute;
      font-size:28px;
      opacity:0.12;
      color:var(--cyan);
      text-shadow: 0 0 8px rgba(0,255,255,0.12);
      animation: floatUp linear infinite;
      transform:translateY(100vh);
    }
    .dollar.gold{ color: var(--gold); opacity:0.10; text-shadow:0 0 10px rgba(255,215,0,0.12); }
    @keyframes floatUp{
      0%{ transform: translateY(110vh) scale(0.7); opacity:0;}
      10%{ opacity:0.18; }
      50%{ opacity:0.25; }
      100%{ transform: translateY(-40vh) scale(1.05); opacity:0;}
    }

    /* -------------------------
       Header & Logo Styles
       ------------------------- */
    .container{
      max-width:var(--max-width);
      margin:2rem auto;
      padding:1rem;
      display:flex;
      flex-direction:column;
      gap:1.6rem;
    }

    .main-header {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .logo-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.5rem;
      margin-bottom: 1rem;
    }

    .logo {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(145deg, var(--gold), var(--royal));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: bold;
      color: var(--navy);
      box-shadow: 0 0 25px rgba(255, 215, 0, 0.4);
      border: 2px solid var(--gold);
      transition: all 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.05);
      box-shadow: 0 0 35px rgba(255, 215, 0, 0.6);
    }

    .brand-text {
      text-align: center;
    }

    .brand-text h1 {
      margin: 0;
      font-size: clamp(28px, 5vw, 48px);
      letter-spacing: 1px;
      font-weight: 800;
      background: linear-gradient(90deg, var(--gold), var(--cyan), var(--muted-white));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
      line-height: 1.1;
    }

    .brand-text .tagline {
      margin-top: 0.8rem;
      font-size: clamp(14px, 2vw, 18px);
      color: var(--muted-white);
      opacity: 0.9;
      letter-spacing: 0.5px;
      font-weight: 500;
    }

    /* -------------------------
       Navigation & Marquee
       ------------------------- */
    header.site-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
      width: 100%;
    }

    .nav-toggle{
      background:transparent;
      border:1px solid var(--glass-border);
      color:var(--text);
      padding:0.5rem 0.7rem;
      border-radius:8px;
      cursor:pointer;
      display:inline-flex;
      gap:0.4rem;
      align-items:center;
      font-size: 14px;
    }
    .nav-toggle:focus{outline:2px solid rgba(0,255,255,0.12);}
    .nav-menu{
      display:none;
      position:absolute;
      right:1rem;
      top:4.6rem;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--glass-border);
      padding:0.8rem;
      border-radius:10px;
      min-width:160px;
      box-shadow: 0 6px 30px rgba(0,0,0,0.6);
      z-index:40;
    }
    .nav-menu a{
      display:block;
      color:var(--muted-white);
      text-decoration:none;
      padding:0.45rem 0;
      font-size:14px;
    }

    /* marquee */
    .marquee{
      width:100%;
      overflow:hidden;
      border-radius:8px;
      background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--glass-border);
      padding:0.5rem 0.8rem;
      font-family: monospace;
      font-size:14px;
      margin-top: 1rem;
    }
    .marquee__inner{
      display:flex;
      gap:2rem;
      animation: marquee 18s linear infinite;
      white-space:nowrap;
    }
    @keyframes marquee{
      0%{ transform:translateX(0%); }
      100%{ transform:translateX(-50%); }
    }

    /* -------------------------
       Packages grid
       ------------------------- */
    .grid{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:1.2rem;
      align-items:start;
    }

    .card{
      padding:1.2rem;
      border-radius:14px;
      background: var(--card-bg);
      border:1px solid rgba(255,255,255,0.04);
      box-shadow: 0 8px 30px rgba(0,0,0,0.5);
      transition: transform .28s ease, box-shadow .28s ease, border-color .28s ease;
      position:relative;
      overflow:visible;
      min-height:220px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .card:hover{
      transform: translateY(-8px) scale(1.01);
      border-color: rgba(255,215,0,0.18);
      box-shadow: 0 18px 60px rgba(0,0,0,0.65), 0 0 28px rgba(0,255,255,0.03) inset;
    }

    .card .title{
      display:flex;
      align-items:center;
      gap:0.6rem;
      font-weight:700;
      font-size:18px;
    }
    .card .desc{ font-size:13px; color:rgba(241,241,241,0.8); margin-top:0.6rem; }

    /* expand area (hidden by default) */
    .card .expand{
      margin-top:12px;
      padding-top:12px;
      border-top:1px dashed rgba(255,255,255,0.04);
      display:none;
      gap:1rem;
    }
    .card.open .expand{ display:flex; flex-direction:column; }

    .plans{
      display:flex;
      flex-direction:column;
      gap:0.6rem;
    }
    .plan{
      background: rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.03);
      padding:0.6rem 0.8rem;
      border-radius:8px;
      font-size:14px;
    }

    .cta{
      display:inline-block;
      margin-top:0.9rem;
      padding:0.7rem 0.95rem;
      border-radius:10px;
      background:linear-gradient(180deg,var(--royal), #0046b8);
      color:white;
      font-weight:700;
      letter-spacing:0.3px;
      cursor:pointer;
      border:none;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6), 0 0 18px rgba(0,86,210,0.12);
      transition: all .22s ease;
    }
    .cta:hover{
      background: linear-gradient(180deg,var(--gold), #e6b500);
      color:#021;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6), 0 0 28px rgba(0,255,255,0.14), 0 0 18px rgba(255,215,0,0.2);
      transform: translateY(-2px) scale(1.02);
    }

    /* small helper for send application button */
    .cta.secondary{
      background: linear-gradient(180deg,var(--gold), #e6b500);
      color: #021;
    }

    /* -------------------------
       Loan form styles
       ------------------------- */
    .loan-form{
      display:flex;
      flex-direction:column;
      gap:0.6rem;
    }
    .loan-form label{ font-size:13px; color:var(--muted-white); }
    .loan-form input[type="text"],
    .loan-form input[type="tel"],
    .loan-form input[type="number"],
    .loan-form textarea,
    .loan-form select{
      width:100%;
      padding:0.6rem;
      border-radius:8px;
      border:1px solid var(--glass-border);
      background: rgba(255,255,255,0.02);
      color:var(--text);
      font-size:14px;
    }
    .loan-form textarea{ min-height:90px; resize:vertical; }

    /* -------------------------
       Footer / social / partners
       ------------------------- */
    footer{
      margin-top:2rem;
      padding:1.2rem;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border:1px solid var(--glass-border);
      display:flex;
      gap:1.2rem;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .socials{ display:flex; gap:0.8rem; align-items:center;}
    .icon{
      width:44px;
      height:44px;
      display:inline-grid;
      place-items:center;
      border-radius:10px;
      background: rgba(255,255,255,0.02);
      border:1px solid rgba(255,255,255,0.03);
    }
    .partners{
      display:flex;
      gap:0.6rem;
      align-items:center;
    }
    .partner{
      width:56px; height:56px;
      border-radius:999px;
      overflow:hidden;
      display:inline-grid;
      place-items:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.04);
      cursor:pointer;
      position:relative;
    }
    .partner img{ width:100%; height:100%; object-fit:cover; display:block; }
    .partner .add-txt{
      position:absolute;
      font-size:12px;
      color:var(--muted-white);
      text-align:center;
      padding:6px;
    }

    /* hidden file input */
    .partner-input{ display:none; }

    /* -------------------------
       Responsiveness
       ------------------------- */
    @media (max-width: 960px){
      .grid{ grid-template-columns: repeat(2, 1fr); }
      .logo-container { flex-direction: column; gap: 1rem; }
      .logo { width: 70px; height: 70px; font-size: 1.8rem; }
      .brand-text h1 { font-size: 32px; }
      header.site-header{ gap:0.6rem; position:relative; }
      .nav-menu{ right:0.6rem; top:5.6rem; }
    }
    @media (max-width: 560px){
      .grid{ grid-template-columns: 1fr; }
      .container{ margin:1rem; padding: 0.5rem; }
      footer{ flex-direction:column; align-items:flex-start; gap:1rem; }
      .logo { width: 60px; height: 60px; font-size: 1.5rem; }
      .brand-text h1 { font-size: 24px; }
      .brand-text .tagline { font-size: 14px; }
    }

    /* small visual tweaks for inputs on mobile */
    input:focus, textarea:focus, select:focus{ outline: 2px solid rgba(0,255,255,0.06); border-color: rgba(0,255,255,0.12); }
  </style>
</head>
<body>
  <div class="bg-animated"></div>
  <div class="bg-dollars" aria-hidden="true"></div>

  <!-- floating dollar signs (dynamically positioned via JS) -->
  <div class="dollar-floats" id="dollarFloats" aria-hidden="true"></div>

  <div class="container">
    <!-- Main Header with Logo and Title -->
    <div class="main-header">
      <div class="logo-container">
        <div class="logo">CI</div>
        <div class="brand-text">
          <h1>Chartered Investments</h1>
          <div class="tagline">Premium Financial Solutions & Wealth Management</div>
        </div>
      </div>

      <header class="site-header">
        <div class="brand" role="banner">
          <div class="marquee" aria-hidden="false" role="region" aria-label="Recent transactions">
            <div class="marquee__inner" id="marqueeContent">
              <span>254712*** withdrew 50k</span>
              <span>254734*** deposited 23k</span>
              <span>254701*** withdrew 17k</span>
              <span>254720*** deposited 120k</span>
              <span>254703*** withdrew 5k</span>
              <span>254755*** deposited 40k</span>
              <span>254788*** withdrew 12k</span>
              <span>254799*** deposited 7k </span>
              <span>254710*** withdrew 3k</span>
              <span>254701*** deposited 230k</span>
              <span>254733*** withdrew 25k</span>
              <span>254744*** deposited 8k</span>
              <span>254722*** withdrew 15k</span>
              <span>254799*** deposited 33k</span>
              <span>254711*** withdrew 50k</span>
            </div>
          </div>
        </div>

        <div style="display:flex; gap:0.6rem; align-items:center;">
          <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="navMenu">‚ò∞ Menu</button>
          <div class="nav-menu" id="navMenu" role="menu" aria-hidden="true">
            <a href="#about">About Us</a>
            <a href="#contact">Contact Us</a>
            <a href="#reviews">Reviews</a>
          </div>
        </div>
      </header>
    </div>

    <!-- Main packages -->
    <main>
      <section class="grid" aria-label="Investment packages">
        <!-- Chartered Loans -->
        <article class="card" id="charteredCard" data-key="chartered">
          <div>
            <div class="title">üè¶ Chartered Loans</div>
            <div class="desc">Apply for flexible loans with personalised repayment options. Secure and confidential.</div>

            <!-- expand area contains loan form -->
            <div class="expand" aria-hidden="true">
              <form id="loanForm" class="loan-form" action="https://formspree.io/f/xjkpneqr" method="POST">
                <input type="hidden" name="_subject" value="New Chartered Loans Application">
                <label>Full Name (as in ID)
                  <input name="full_name" type="text" required placeholder="John Doe">
                </label>
                <label>Phone Number
                  <input name="phone" type="tel" required placeholder="+2547XXXXXXXX">
                </label>
                <label>Location
                  <input name="location" type="text" required placeholder="Nairobi">
                </label>
                <label>Next of Kin Name
                  <input name="nok_name" type="text" required placeholder="Jane Doe">
                </label>
                <label>Next of Kin Number
                  <input name="nok_phone" type="tel" required placeholder="+2547XXXXXXXX">
                </label>
                <label>Loan Amount Needed
                  <input name="loan_amount" type="number" required placeholder="50000">
                </label>
                <label>Period of Return
                  <input name="period" type="text" required placeholder="3 months / 6 months">
                </label>
                <label>Additional Details
                  <textarea name="details" placeholder="Any extra info..."></textarea>
                </label>

                <div style="display:flex; gap:0.6rem; margin-top:0.4rem;">
                  <button type="submit" class="cta secondary">SEND APPLICATION</button>
                  <button type="button" class="cta" id="charteredCancel">CANCEL</button>
                </div>
              </form>
            </div>
          </div>
        </article>

        <!-- Premium (Daily Yield) -->
        <article class="card" id="premiumCard" data-key="premium">
          <div>
            <div class="title">‚ú® Premium (Daily Yield)</div>
            <div class="desc">High-frequency daily returns for short-term investors.</div>

            <div class="expand" aria-hidden="true">
              <div class="plans">
                <div class="plan">1) Invest 500 ‚Üí Earn 750 (daily)</div>
                <div class="plan">2) Invest 750 ‚Üí Earn 1000 (daily)</div>
                <div class="plan">3) Invest 1000 ‚Üí Earn 1400 (daily)</div>
              </div>
              <div style="display:flex; justify-content:flex-end;">
                <button class="cta" data-action="invest" data-package="premium">INVEST NOW</button>
              </div>
            </div>
          </div>
        </article>

        <!-- Standard (Weekly Yield) -->
        <article class="card" id="standardCard" data-key="standard">
          <div>
            <div class="title">üìà Standard (Weekly Yield)</div>
            <div class="desc">Stable weekly returns for balanced investors.</div>

            <div class="expand" aria-hidden="true">
              <div class="plans">
                <div class="plan">1) Invest 1,000 ‚Üí Earn 1,200 (weekly)</div>
                <div class="plan">2) Invest 2,000 ‚Üí Earn 2,400 (weekly)</div>
                <div class="plan">3) Invest 5,000 ‚Üí Earn 6,250 (weekly)</div>
              </div>
              <div style="display:flex; justify-content:flex-end;">
                <button class="cta" data-action="invest" data-package="standard">INVEST NOW</button>
              </div>
            </div>
          </div>
        </article>

        <!-- Corporate (Monthly Yield) -->
        <article class="card" id="corporateCard" data-key="corporate">
          <div>
            <div class="title">üè¢ Corporate (Monthly Yield)</div>
            <div class="desc">Premium monthly returns for institutional and corporate clients.</div>

            <div class="expand" aria-hidden="true">
              <div class="plans">
                <div class="plan">1) Invest 10,000 ‚Üí Earn 12,500 (monthly)</div>
                <div class="plan">2) Invest 25,000 ‚Üí Earn 31,250 (monthly)</div>
                <div class="plan">3) Invest 50,000 ‚Üí Earn 63,000 (monthly)</div>
              </div>
              <div style="display:flex; justify-content:flex-end;">
                <button class="cta" data-action="invest" data-package="corporate">INVEST NOW</button>
              </div>
            </div>
          </div>
        </article>
      </section>
    </main>

    <!-- Footer with socials & partners -->
    <footer aria-label="Contact and partners">
      <div>
        <div id="about">
          <strong>About Us</strong>
          <div style="font-size:13px; color:rgba(255,255,255,0.8); margin-top:6px;">
            Chartered Investments ‚Äî learn, grow, and thrive in the digital economy.
          </div>
        </div>
        <div id="contact" style="margin-top:8px; font-size:13px; color:rgba(255,255,255,0.8);">
          Contact: Amoskiprono780@gmail.com | +254 759 123 896
        </div>
      </div>

      <div style="display:flex; flex-direction:column; gap:0.6rem; align-items:flex-end;">
        <div class="socials" aria-label="Social links">
          <a href="https://wa.me/254700000000" target="_blank" class="icon" aria-label="WhatsApp">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path fill="#25D366" d="M20.52 3.48A11.9 11.9 0 0 0 12.016 1C6.07 1 1.5 5.57 1.5 11.52c0 2.02.53 3.9 1.52 5.57L1 23l5.12-2.4c1.56.86 3.35 1.31 5 1.31 6 0 10.5-4.57 10.5-10.52 0-3.02-1.18-5.8-3.1-7.89z"/>
              <path fill="#fff" d="M17.9 14.42c-.4-.2-2.36-1.17-2.73-1.3-.37-.13-.63-.2-.9.2-.27.4-1.04 1.3-1.28 1.56-.24.27-.48.3-.88.1-.4-.2-1.69-.62-3.22-1.99-1.19-1.06-1.99-2.36-2.22-2.76-.24-.4 0-.62.18-.82.18-.18.4-.48.6-.72.2-.24.27-.4.4-.66.13-.27.07-.49-.04-.69-.12-.2-1.1-2.63-1.5-3.6-.4-.96-.8-.8-1.1-.8h-.9c-.28 0-.69.07-1.05.33-.36.25-1.35 1.32-1.35 3.22 0 1.9 1 3.74 1.14 4 .12.24 1.96 3.12 4.75 4.35 3 1.36 3.96 1.02 4.68.96.72-.06 2.36-.96 2.7-1.88.36-.92.36-1.7.27-1.88-.09-.18-.36-.3-.76-.5z"/>
            </svg>
          </a>

          <a href="https://facebook.com" target="_blank" class="icon" aria-label="Facebook">
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#1877F2" d="M22 12A10 10 0 1 0 2 12a10 10 0 0 0 20 0z"/>
              <path fill="#fff" d="M15.5 12.5h-1.6v6h-2.2v-6H9.7v-2.1h1.9V8.6c0-1.8 1-3.1 3-3.1.9 0 1.9.1 1.9.1v2.1h-1.1c-1 0-1.2.6-1.2 1.2v1.6h2.3L15.5 12.5z"/>
            </svg>
          </a>

          <a href="mailto:Amoskiprono780@gmail.com" class="icon" aria-label="Gmail">
            <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#D93025" d="M22 6.5V17c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6.5l10 6.4 10-6.4z"/>
              <path fill="#fff" d="M12 13L2 6.5V6c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v.5L12 13z"/>
            </svg>
          </a>
        </div>

        <div class="partners" aria-label="Partners">
          <strong style="margin-right:8px; color:var(--muted-white)">Partners</strong>

          <!-- Partner placeholders: click to upload an image and preview -->
          <label class="partner" title="Click to add partner image">
            <img alt="partner 1 placeholder" src="https://via.placeholder.com/56/ffffff/000000?text=P" />
            <div class="add-txt">Add</div>
            <input class="partner-input" type="file" accept="image/*">
          </label>

          <label class="partner" title="Click to add partner image">
            <img alt="partner 2 placeholder" src="https://via.placeholder.com/56/ffffff/000000?text=P" />
            <div class="add-txt">Add</div>
            <input class="partner-input" type="file" accept="image/*">
          </label>

          <label class="partner" title="Click to add partner image">
            <img alt="partner 3 placeholder" src="https://via.placeholder.com/56/ffffff/000000?text=P" />
            <div class="add-txt">Add</div>
            <input class="partner-input" type="file" accept="image/*">
          </label>

        </div>
      </div>
    </footer>

  </div>

  <script>
    /* ============================
       Configuration
       ============================ */
    const PAYMENT_LINK = 'https://amodeepotfolio.github.io/Mpesaon4/'; // <--- wired invest now link

    /* -------------------------
       Helper: create floating dollars randomly positioned
       ------------------------- */
    (function createDollars(){
      const container = document.getElementById('dollarFloats');
      const count = 18; // number of floating $ elements
      for(let i=0;i<count;i++){
        const d = document.createElement('div');
        d.className = 'dollar' + (Math.random()>0.8 ? ' gold' : '');
        d.textContent = '$';
        const left = Math.random()*100;
        const size = 12 + Math.random()*36;
        d.style.left = left + 'vw';
        d.style.fontSize = size + 'px';
        d.style.animationDuration = 10 + Math.random()*22 + 's';
        d.style.animationDelay = (Math.random()*-20) + 's';
        container.appendChild(d);
      }
    })();

    /* -------------------------
       Duplicate marquee items to make continuous loop
       ------------------------- */
    (function duplicateMarquee(){
      const inner = document.getElementById('marqueeContent');
      // clone all children once for seamless scroll
      const clone = inner.innerHTML;
      inner.innerHTML += clone;
    })();

    /* -------------------------
       Toggle nav menu
       ------------------------- */
    const navToggle = document.getElementById('navToggle');
    const navMenu = document.getElementById('navMenu');
    navToggle.addEventListener('click', ()=>{
      const open = navMenu.style.display !== 'block';
      navMenu.style.display = open ? 'block' : 'none';
      navToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
      navMenu.setAttribute('aria-hidden', open ? 'false' : 'true');
    });
    document.addEventListener('click', (e)=>{
      if(!navMenu.contains(e.target) && !navToggle.contains(e.target)){
        navMenu.style.display = 'none';
        navToggle.setAttribute('aria-expanded','false');
      }
    });

    /* -------------------------
       Package expand / collapse behavior (click title area to open)
       - The user must click the package name first (card title), then see plans and click INVEST NOW
       ------------------------- */
    document.querySelectorAll('.card').forEach(card=>{
      const title = card.querySelector('.title');
      title.style.cursor = 'pointer';

      title.addEventListener('click', (e)=>{
        // toggle this card open/close
        const isOpen = card.classList.contains('open');
        // close all cards first (so only one open at a time)
        document.querySelectorAll('.card.open').forEach(c=>{
          c.classList.remove('open');
          c.querySelector('.expand').setAttribute('aria-hidden','true');
        });
        if(!isOpen){
          card.classList.add('open');
          card.querySelector('.expand').setAttribute('aria-hidden','false');
          // scroll into view gently
          setTimeout(()=> card.scrollIntoView({behavior:'smooth', block:'center'}), 160);
        } else {
          card.classList.remove('open');
          card.querySelector('.expand').setAttribute('aria-hidden','true');
        }
      });
    });

    // Cancel button for chartered form
    const charteredCancel = document.getElementById('charteredCancel');
    if(charteredCancel){
      charteredCancel.addEventListener('click', () => {
        const charCard = document.getElementById('charteredCard');
        charCard.classList.remove('open');
        charCard.querySelector('.expand').setAttribute('aria-hidden','true');
      });
    }

    /* -------------------------
       Handle INVEST NOW clicks
       Now wired to open the PAYMENT_LINK in a new tab.
       ------------------------- */
    document.querySelectorAll('button[data-action="invest"]').forEach(btn=>{
      btn.addEventListener('click', (e)=>{
        const packageName = btn.getAttribute('data-package') || 'package';
        // Open payment link in a new tab ‚Äî you can add query params if you want to pass package info
        // Example: PAYMENT_LINK + '?package=' + encodeURIComponent(packageName)
        const url = PAYMENT_LINK + '?package=' + encodeURIComponent(packageName);
        window.open(url, '_blank');
      });
    });

    /* -------------------------
       Partners: allow uploading images into partner placeholders
       ------------------------- */
    document.querySelectorAll('.partner').forEach(partnerLabel=>{
      const input = partnerLabel.querySelector('.partner-input');
      const img = partnerLabel.querySelector('img');
      const addTxt = partnerLabel.querySelector('.add-txt');

      // clicking label will trigger file input (label wraps input)
      input.addEventListener('change', (evt) => {
        const file = evt.target.files && evt.target.files[0];
        if(!file) return;
        // preview the image
        const reader = new FileReader();
        reader.onload = function(e){
          img.src = e.target.result;
          // hide the "Add" text once image added
          if(addTxt) addTxt.style.display = 'none';
        };
        reader.readAsDataURL(file);
      });
    });

    /* -------------------------
       Simple: prevent accidental form submit without Formspree endpoint (detect placeholder)
       ------------------------- */
    const loanForm = document.getElementById('loanForm');
    loanForm.addEventListener('submit', (evt) => {
      const action = loanForm.getAttribute('action') || '';
      if(action.includes('YOUR_FORMSPREE_ENDPOINT_HERE') || action.trim()===''){
        evt.preventDefault();
        alert('Please replace the loan form "action" URL with your Formspree endpoint (see comment in the code). Form not sent.');
      } else {
        // Optionally: show a "sending..." message or disable button.
      }
    });

    /* -------------------------
       Accessibility: close open card on ESC
       ------------------------- */
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape'){
        document.querySelectorAll('.card.open').forEach(c=>{
          c.classList.remove('open');
          c.querySelector('.expand').setAttribute('aria-hidden','true');
        });
      }
    });
  </script>
</body>
</html>